<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>$title$ | Rama Rahardi</title>
  <link rel="stylesheet" href="/css/default.css" />
  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="/vite.svg">
</head>

<body>
  <nav>
    <div class="nav-container">
      <a href="/" class="logo">
        <i class="fas fa-code"></i> Rama Rahardi
      </a>
      <ul class="nav-links">
        <li><a href="/">Home</a></li>
        <li><a href="/projects.html">Projects</a></li>
        <li><a href="/blog.html">Blog</a></li>
        <li><button onclick="showContactPopup()" class="contact-btn">Contact</button></li>
      </ul>
      <button class="mobile-menu-toggle" onclick="toggleMobileMenu()">
        <i class="fas fa-bars"></i>
      </button>
    </div>
  </nav>

  <!-- Contact Popup -->
  <div id="contactPopup" class="popup-overlay" onclick="hideContactPopup()">
    <div class="popup-content" onclick="event.stopPropagation()">
      <div class="popup-header">
        <h3>Contact Me</h3>
        <button onclick="hideContactPopup()" class="popup-close">&times;</button>
      </div>
      <div class="contact-links">
        <a href="mailto:rahardi6699@gmail.com" class="contact-link">
          <i class="fas fa-envelope"></i> rahardi6699@gmail.com
        </a>
        <a href="https://github.com/ramhdi" target="_blank" class="contact-link">
          <i class="fab fa-github"></i> GitHub
        </a>
        <a href="https://www.linkedin.com/in/rahardi6699" target="_blank" class="contact-link">
          <i class="fab fa-linkedin"></i> LinkedIn
        </a>
        <!-- <a href="/resume/Rama_Rahardi_Resume.pdf" target="_blank" class="contact-link">
          <i class="fas fa-file-pdf"></i> Resume
        </a> -->
      </div>
    </div>
  </div>

  <main role="main">
    $if(isHome)$
    $body$
    $else$
    <div class="section">
      <div class="container">
        $body$
      </div>
    </div>
    $endif$
  </main>

  <footer>
    <div class="container">
      <p>
        &copy; <span id="currentYear"></span> Rama Rahardi. Built with
        <a href="http://jaspervdj.be/hakyll" target="_blank">
          <svg class="haskell-icon" viewBox="0 0 24 24" fill="currentColor">
            <path
              d="M0 3.5L5.5 12L0 20.5H3L8.5 12L3 3.5H0ZM5.5 3.5L11 12L5.5 20.5H8.5L14 12L8.5 3.5H5.5ZM14.5 16.75L16.25 20.5H24L19.75 13.25L24 6H16.25L14.5 9.75L16.25 13.25L14.5 16.75Z" />
          </svg>
          Hakyll
        </a>
        â€¢ <a href="https://github.com/ramhdi" target="_blank">
          <i class="fab fa-github"></i> GitHub
        </a>
      </p>
    </div>
  </footer>

  <script>
    // Set current year
    document.getElementById('currentYear').textContent = new Date().getFullYear();

    function toggleMobileMenu() {
      const navLinks = document.querySelector('.nav-links');
      const toggle = document.querySelector('.mobile-menu-toggle i');

      if (navLinks.style.display === 'none' || navLinks.style.display === '') {
        navLinks.style.display = 'flex';
        navLinks.style.position = 'absolute';
        navLinks.style.top = '100%';
        navLinks.style.left = '0';
        navLinks.style.right = '0';
        navLinks.style.backgroundColor = 'var(--color-primary)';
        navLinks.style.flexDirection = 'column';
        navLinks.style.padding = '1rem 2rem';
        navLinks.style.boxShadow = 'var(--shadow)';
        navLinks.style.borderTop = '1px solid var(--color-border)';
        toggle.className = 'fas fa-times';
      } else {
        navLinks.style.display = 'none';
        toggle.className = 'fas fa-bars';
      }
    }

    function showContactPopup() {
      document.getElementById('contactPopup').style.display = 'flex';
      document.body.style.overflow = 'hidden';
    }

    function hideContactPopup() {
      document.getElementById('contactPopup').style.display = 'none';
      document.body.style.overflow = 'auto';
    }

    // Close mobile menu when clicking outside
    document.addEventListener('click', function (event) {
      const nav = document.querySelector('nav');
      const navLinks = document.querySelector('.nav-links');
      const toggle = document.querySelector('.mobile-menu-toggle');

      if (!nav.contains(event.target) && navLinks.style.display === 'flex') {
        navLinks.style.display = 'none';
        toggle.querySelector('i').className = 'fas fa-bars';
      }
    });

    // Close popup on escape key
    document.addEventListener('keydown', function (event) {
      if (event.key === 'Escape') {
        hideContactPopup();
      }
    });
  </script>
</body>

</html>